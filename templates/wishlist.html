{% extends 'base.html' %}{% block content %}

<div class="container">
  <h1 class="platformTitle">Wishlist</h1>
  <hr />
</div>

<div class="container">
  <div class="center">
    <div class="row justify-content-center">
      {% for game in games %}

      <div class="col-12 col-md-6 col-xl-4">
        <div class="card shadow-lg hvr-grow" style="width: 18rem;">
          <img
            src="{{ game.wished_game.box_art }}"
            class="card-img-top"
            alt="..."
          />

          <h5 class="card-title mb-3">{{ game.wished_game.title }}</h5>
          <h6 class="card-title">${{ game.wished_game.price_per_unit }}</h6>

          <hr />
          <div class="row justify-content-center mb-3">
            <div class="col-auto">
              <a
                data-toggle="modal"
                data-target="#modal{{ game.id }}"
                class="btn btn-default"
                data-placement="top"
                title="Preview Game"
                ><i class="far fa-eye"></i
              ></a>
            </div>
            <div class="col-auto">
              <a
                href="{% url 'single_game' game.wished_game.id %}"
                class="btn btn-default"
                data-placement="top"
                title="Game Details"
                ><i class="fas fa-info"></i
              ></a>
            </div>
            <div class="col-auto">
              <form
                method="POST"
                action="{{ game.wished_game.get_add_remove_to_wishlist_url }}"
                class="form border-top-0 rounded-0 form-wishlist-ajax"
              >
                {% csrf_token %}
                <span class="submit-span">
                  {% if game.wished_game.title in wished_games %}

                  <button
                    type="submit"
                    class="btn bg-transparent border-0 "
                    id="wishButton"
                  >
                    <i class="fas fa-heart text-danger"></i>
                  </button>

                  {% else %}

                  <button
                    type="submit"
                    class="btn bg-transparent border-0"
                    id="wishButton"
                  >
                    <i class="far fa-heart"></i>
                  </button>

                  {% endif %}
                </span>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal -->
      <div
        class="modal fade mt-5 rounded-0"
        id="modal{{ game.id }}"
        tabindex="-1"
        role="dialog"
        aria-labelledby="ModalLongTitle"
        aria-hidden="true"
      >
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div
              class="modal-body text-center gamesModal border-top-0 border-bottom-0"
            >
              <div class="row text-white ">
                <div>
                  <div class="col">
                    <img
                      src="{{ game.wished_game.box_art }}"
                      class="shadow-lg "
                      alt="..."
                      style="height:375px; width:300px"
                    />
                  </div>
                  <div class="col">
                    <div class="toast-body">
                      <h3 class="mt-0">{{ game.wished_game.title }}</h3>
                    </div>
                    <div class="toast-body">
                      {% for developer in game.wished_game.developer %}
                      <span
                        class="mt-0 badge badge-pill badge-success rounded-0 shadow-lg"
                        >Developer: {{ developer }}</span
                      >
                      {% endfor %}

                      <span
                        class="mt-0 badge badge-pill badge-success rounded-0 shadow-lg"
                        >Release Date: {{ game.wished_game.release_date }}</span
                      >
                    </div>
                    <div class="toast-body">
                      {{ game.wished_game.description }}
                    </div>
                    <div class="toast-body">
                      {% for tag in game.wished_game.genre_tages %}
                      <span
                        class="badge badge-pill badge-primary rounded-0 shadow-lg"
                      >
                        {{ tag }}
                      </span>
                      {% endfor %}
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <form
              method="POST"
              action="{{ game.get_add_to_cart_url }}"
              class="form modal-footer bg-dark border-top-0 rounded-0 form-game-ajax"
            >
              {% csrf_token %}

              <button
                type="submit"
                class="btn btn-primary btn-lg btn-block shadow-lg"
              >
                $60 - Add to Cart
              </button>
            </form>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock %}
